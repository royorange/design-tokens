# ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

## ç‰ˆæœ¬å·è§„èŒƒ

æˆ‘ä»¬éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ (Semantic Versioning)ï¼š

```
MAJOR.MINOR.PATCH
```

- **MAJOR**: ç ´åæ€§å˜æ›´
- **MINOR**: æ–°å¢åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
- **PATCH**: ä¿®å¤é—®é¢˜ï¼ˆå‘åå…¼å®¹ï¼‰

## è‡ªåŠ¨ç‰ˆæœ¬åˆ¤æ–­è§„åˆ™

å½“è¿è¡Œ `npm run version:auto` æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†æ token å˜åŒ–å¹¶å†³å®šç‰ˆæœ¬å·ï¼š

### ğŸ”´ Major ç‰ˆæœ¬ï¼ˆç ´åæ€§å˜æ›´ - éœ€æ‰‹åŠ¨ç¡®è®¤ï¼‰

**é‡è¦**ï¼šè‡ªåŠ¨æ¨¡å¼ä¸ä¼šç›´æ¥æ›´æ–°åˆ° major ç‰ˆæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨è¿è¡Œ `npm run version:major`

ä»¥ä¸‹æƒ…å†µå»ºè®®ä½¿ç”¨ major ç‰ˆæœ¬ï¼š

1. **åˆ é™¤ token**
   ```json
   // ä¹‹å‰
   "color.primary.500": { "value": "#4F46E5" }
   
   // ä¹‹å
   // token è¢«åˆ é™¤äº†
   ```

2. **é‡å‘½å token**
   ```json
   // ä¹‹å‰
   "color.brand": { "value": "#4F46E5" }
   
   // ä¹‹å
   "color.primary": { "value": "#4F46E5" }
   ```

3. **æ”¹å˜ token ç»“æ„**
   ```json
   // ä¹‹å‰
   "spacing": "16px"
   
   // ä¹‹å
   "spacing": {
     "value": "16",
     "type": "spacing"
   }
   ```

### ğŸŸ¡ Minor ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰

ä»¥ä¸‹æƒ…å†µä¼šè‡ªåŠ¨è§¦å‘ minor ç‰ˆæœ¬æ›´æ–°ï¼š

1. **æ–°å¢ token**
   ```json
   // æ–°å¢äº†ä¸€ä¸ªé¢œè‰²
   "color.success": { "value": "#10B981" }
   ```

2. **æ–°å¢ token ç±»åˆ«**
   ```json
   // æ–°å¢äº†é˜´å½±ç³»ç»Ÿ
   "shadow": {
     "sm": { "value": "0 1px 2px rgba(0,0,0,0.05)" },
     "md": { "value": "0 4px 6px rgba(0,0,0,0.1)" }
   }
   ```

3. **æ–°å¢ä¸»é¢˜å˜ä½“**
   ```json
   // æ–°å¢äº† high-contrast ä¸»é¢˜
   "high-contrast": {
     "color": { ... }
   }
   ```

4. **æ£€æµ‹åˆ°åˆ é™¤/é‡å‘½åï¼ˆä½†è‡ªåŠ¨é™çº§ä¸º minorï¼‰**
   ```bash
   # è‡ªåŠ¨æ¨¡å¼æ£€æµ‹åˆ°ç ´åæ€§å˜æ›´æ—¶ä¼šæç¤ºï¼š
   âš ï¸  æ£€æµ‹åˆ°å¯èƒ½çš„ç ´åæ€§å˜æ›´ (åˆ é™¤æˆ–é‡å‘½å)
   ğŸ“Œ å»ºè®®æ‰‹åŠ¨è¿è¡Œ `npm run version:major` å¦‚æœè¿™æ˜¯æœ‰æ„çš„ç ´åæ€§å˜æ›´
   ğŸ“Œ å¦åˆ™å°†ä½œä¸º minor ç‰ˆæœ¬å¤„ç†
   ```

### ğŸŸ¢ Patch ç‰ˆæœ¬ï¼ˆä¿®å¤ï¼‰

ä»¥ä¸‹æƒ…å†µä¼šè§¦å‘ patch ç‰ˆæœ¬æ›´æ–°ï¼š

1. **ä¿®æ”¹ token å€¼**
   ```json
   // ä¹‹å‰
   "color.primary.500": { "value": "#4F46E5" }
   
   // ä¹‹å
   "color.primary.500": { "value": "#4338CA" }  // é¢œè‰²å¾®è°ƒ
   ```

2. **ä¿®å¤æ‹¼å†™é”™è¯¯**ï¼ˆå€¼ä¸å˜ï¼‰
   ```json
   // ä¹‹å‰
   "colro.primary": { "value": "#4F46E5" }
   
   // ä¹‹å
   "color.primary": { "value": "#4F46E5" }  // éœ€è¦æ‰‹åŠ¨å¤„ç†ä¸º patch
   ```

## ä½¿ç”¨æŒ‡å—

### è‡ªåŠ¨ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

```bash
# CI/CD ä¸­ä½¿ç”¨
npm run version:auto

# è¾“å‡ºç¤ºä¾‹ 1 - å¸¸è§„æ›´æ–°ï¼š
# ğŸ“Š Token å˜æ›´åˆ†æ:
#   âœ… æ–°å¢: 3 ä¸ª
#      - color.success
#      - color.warning
#      - spacing.7
# ğŸŸ¡ æ£€æµ‹åˆ°æ–°å¢ token
# âœ… Version updated: 1.0.0 â†’ 1.1.0

# è¾“å‡ºç¤ºä¾‹ 2 - æ£€æµ‹åˆ°ç ´åæ€§å˜æ›´ï¼š
# ğŸ“Š Token å˜æ›´åˆ†æ:
#   âŒ åˆ é™¤: 2 ä¸ª
#      - color.brand
#      - spacing.xxl
# âš ï¸  æ£€æµ‹åˆ°å¯èƒ½çš„ç ´åæ€§å˜æ›´ (åˆ é™¤æˆ–é‡å‘½å)
# ğŸ“Œ å»ºè®®æ‰‹åŠ¨è¿è¡Œ `npm run version:major` å¦‚æœè¿™æ˜¯æœ‰æ„çš„ç ´åæ€§å˜æ›´
# ğŸ“Œ å¦åˆ™å°†ä½œä¸º minor ç‰ˆæœ¬å¤„ç†
# âœ… Version updated: 1.0.0 â†’ 1.1.0
```

### æ‰‹åŠ¨ç‰ˆæœ¬

å½“è‡ªåŠ¨åˆ¤æ–­ä¸å‡†ç¡®æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼š

```bash
# ä¿®å¤ bug
npm run version:patch

# æ–°å¢åŠŸèƒ½
npm run version:minor

# ç ´åæ€§å˜æ›´
npm run version:major
```

### æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°

```bash
npm run version:check
# è¾“å‡º: yes æˆ– no
```

## CI/CD é›†æˆ

åœ¨ GitHub Actions ä¸­å·²é…ç½®è‡ªåŠ¨ç‰ˆæœ¬æ›´æ–°ï¼š

```yaml
- name: Check and update version
  run: |
    npm run version:auto
    git add -A
    git commit -m "chore: bump version [skip ci]"
```

## ç‰ˆæœ¬å‘å¸ƒæµç¨‹

1. **è®¾è®¡å¸ˆæ›´æ–° Figma**
   - ä¿®æ”¹ tokens
   - åŒæ­¥åˆ° GitHub

2. **CI/CD è‡ªåŠ¨å¤„ç†**
   - æ£€æµ‹å˜æ›´ç±»å‹
   - æ›´æ–°ç‰ˆæœ¬å·
   - æ„å»ºå„å¹³å°åŒ…
   - åˆ›å»º Git tag
   - å‘å¸ƒåˆ° npm

3. **å¼€å‘è€…æ›´æ–°**
   - æ”¶åˆ°æ›´æ–°é€šçŸ¥
   - æŸ¥çœ‹å˜æ›´æ—¥å¿—
   - æ›´æ–°ä¾èµ–ç‰ˆæœ¬

## ç‰¹æ®Šæƒ…å†µå¤„ç†

### 1. ç´§æ€¥ä¿®å¤

å¦‚æœéœ€è¦ç´§æ€¥ä¿®å¤ä½†ä¸æƒ³è§¦å‘è‡ªåŠ¨ç‰ˆæœ¬ï¼š

```bash
# æ‰‹åŠ¨è®¾ç½® patch ç‰ˆæœ¬
npm run version:patch

# æˆ–ç›´æ¥ç¼–è¾‘ package.json
```

### 2. é¢„å‘å¸ƒç‰ˆæœ¬

```bash
# åˆ›å»º beta ç‰ˆæœ¬
npm version prerelease --preid=beta
# 1.0.0 â†’ 1.0.1-beta.0
```

### 3. è·³è¿‡ç‰ˆæœ¬æ›´æ–°

åœ¨ commit message ä¸­æ·»åŠ  `[skip version]`ï¼š

```bash
git commit -m "chore: update docs [skip version]"
```

## ç‰ˆæœ¬å›æ»š

å¦‚æœå‘ç°é—®é¢˜éœ€è¦å›æ»šï¼š

```bash
# 1. æŸ¥çœ‹ç‰ˆæœ¬å†å²
git tag -l

# 2. å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬
git checkout v1.0.0

# 3. åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout -b hotfix/1.0.1

# 4. ä¿®å¤åå‘å¸ƒ
npm run version:patch
```

## ç‰ˆæœ¬é€šçŸ¥

### Slack é€šçŸ¥

å¯ä»¥åœ¨ CI/CD ä¸­æ·»åŠ  Slack é€šçŸ¥ï¼š

```yaml
- name: Notify Slack
  if: steps.version.outputs.VERSION_CHANGED == 'true'
  uses: 8398a7/action-slack@v3
  with:
    status: success
    text: "ğŸ¨ Design Tokens æ›´æ–°åˆ° v${{ steps.version.outputs.VERSION }}"
```

### é‚®ä»¶é€šçŸ¥

é€šè¿‡ GitHub Actions å‘é€é‚®ä»¶é€šçŸ¥ç›¸å…³å›¢é˜Ÿã€‚

## æœ€ä½³å®è·µ

1. **å®šæœŸå®¡æŸ¥**
   - æ¯æœˆå®¡æŸ¥ç‰ˆæœ¬å†å²
   - ç¡®ä¿ç‰ˆæœ¬å·ç¬¦åˆå˜æ›´ç¨‹åº¦

2. **å˜æ›´æ—¥å¿—**
   - æ¯æ¬¡ç‰ˆæœ¬æ›´æ–°éƒ½è¦æœ‰æ¸…æ™°çš„è¯´æ˜
   - åœ¨ Release notes ä¸­åˆ—å‡ºæ‰€æœ‰å˜æ›´

3. **æµ‹è¯•éªŒè¯**
   - Major ç‰ˆæœ¬å‘å¸ƒå‰é€šçŸ¥æ‰€æœ‰å›¢é˜Ÿ
   - æä¾›è¿ç§»æŒ‡å—

4. **ç‰ˆæœ¬é”å®š**
   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬
   - å¼€å‘ç¯å¢ƒå¯ä»¥ä½¿ç”¨èŒƒå›´ç‰ˆæœ¬